<!-- rankings.html -->
<div ng-controller="RankingsForm">
<form name="rankings-form">
    <div class="panel panel-default text-center">
		 <div class="panel-body">
			<h2><img height="50px"src="/images/{{rubricIcon}}" /> {{rubricCategory}} Rankings</h2>
		 </div>
	</div>	
	<div class="panel panel-primary">
		<div class="panel-heading"><i class="mdi-action-assignment-ind"> </i> Select your award </div>
		<div class="panel-body">
			<select class="form-control" ng-model="selectAward" ng-click="ChangeForm()" ng-options="award as award.award for award in awards | filter:{category:rubricCategory }">
				<div class="panel-body">
				<option value="">Select Award</option>
				</div>
			</select>
		</div>
	</div>
	<div class="panel panel-primary">
		<div class="panel-heading"><i class="mdi-av-shuffle"> </i> Sort your teams </div>	
		<br />
		<div class="section row connectedItemsExample">
			<div class="col col-sm-4">
				<div class="panel panel-default">
				<div class="panel-heading"><i class="mdi-editor-format-list-bulleted"></i> Team list</div>
					<div class="panel-body">
						<div ui-sortable="sortableOptions" ng-model="teams" class="list-group teamlist">
							<div ng-repeat="item in teams" class="list-group-item">
								<div class="row-action-primary">
									<i class="mdi-hardware-keyboard-tab"></i>
								</div>
								<div class="row-content" ng-click="AwardSelection(item, rubricCategory)" ng-class="{'TeamRanked':isTeamRanked(item)}">									<div class="action-secondary"><i class="mdi-action-info-outline"></i></div>
									<h4 class="list-group-item-heading"> {{item.teamName}} ({{item.teamNumber}})</h4>
									<p class="list-group-item-text">{{item.affiliation}} ({{item.rank}})</p>
								</div>
								<div class="list-group-separator"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col col-sm-4">
			<div ng-TODO="" class="panel panel-default">	
				<div class="panel-heading"><i class="mdi-editor-format-list-bulleted"></i>{{award.award}}</div>
				<div class="panel-body">				
					<div ui-sortable="sortableOptions" ng-model="award.teamsSorted" class="list-group award{{key}}">                                                            
													<div ng-if="!award.teamsSorted.length">Drag your Rankings in this Area.</div>	
													<div ng-repeat="team in award.teamsSorted" class="list-group-item">
							<div class="row-content" >
								<h4 class="list-group-item-heading"><span class="label label-default">{{$index+1}}</span> {{team.teamName}} ({{team.teamNumber}})</h4>
																		<p class="list-group-item-text">{{team.affiliation}} ({{item.rank}}) <img src="images/down.png" ng-click="BringDown(award, team)"></p>
							</div>
							<div class="list-group-separator"></div>
						</div>
					</div>
				</div>
			</div>
			</div>
		</div>
	</div>
	<div class="panel panel-primary">
		<div class="panel-heading">Submit rankings for category {{rubricCategory}}.</div>
		<!-- TODO: add confirmation dialog -->
		<button class="btn btn-danger" ng-click="TestForm()">Test data</button>
		<button class="btn btn-danger" ng-click="ResetForm()">Reset rankings</button>
		<button class="btn btn-success" ng-disabled="!isSubmitEnabled()" ng-click="SubmitForm()">Submit rankings</button>
	</div>
</form>
</div>

